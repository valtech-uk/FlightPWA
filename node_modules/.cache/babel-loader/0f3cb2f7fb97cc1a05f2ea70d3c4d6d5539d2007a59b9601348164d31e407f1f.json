{"ast":null,"code":"/********************************\n     Encoding/Decoding Utils\n********************************/\n/*\nlet webCrypto :any = null\n\nexport async function getCrypto() {\n    if(!webCrypto) {\n        console.log(window?.crypto)\n        webCrypto = window?.crypto ?? (await import(\"crypto\")).webcrypto\n        console.log(webCrypto)\n    }\n    return webCrypto\n}\n*/\nexport function randomChallenge() {\n  return crypto.randomUUID();\n}\nexport function toBuffer(txt) {\n  return Uint8Array.from(txt, c => c.charCodeAt(0)).buffer;\n}\nexport function parseBuffer(buffer) {\n  return String.fromCharCode(...new Uint8Array(buffer));\n}\nexport function isBase64url(txt) {\n  return txt.match(/^[a-zA-Z0-9\\-_]+=*$/) !== null;\n}\nexport function toBase64url(buffer) {\n  const txt = btoa(parseBuffer(buffer)); // base64\n  return txt.replaceAll('+', '-').replaceAll('/', '_');\n}\nexport function parseBase64url(txt) {\n  txt = txt.replaceAll('-', '+').replaceAll('_', '/'); // base64url -> base64\n  return toBuffer(atob(txt));\n}\nexport async function sha256(buffer) {\n  return await crypto.subtle.digest('SHA-256', buffer);\n}\nexport function bufferToHex(buffer) {\n  return [...new Uint8Array(buffer)].map(b => b.toString(16).padStart(2, \"0\")).join(\"\");\n}\nexport function concatenateBuffers(buffer1, buffer2) {\n  var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp;\n}\n;","map":{"version":3,"names":["randomChallenge","crypto","randomUUID","toBuffer","txt","Uint8Array","from","c","charCodeAt","buffer","parseBuffer","String","fromCharCode","isBase64url","match","toBase64url","btoa","replaceAll","parseBase64url","atob","sha256","subtle","digest","bufferToHex","map","b","toString","padStart","join","concatenateBuffers","buffer1","buffer2","tmp","byteLength","set"],"sources":["C:/Users/brandon.murphy/source/repos/FlightPWA/node_modules/@passwordless-id/webauthn/dist/esm/utils.js"],"sourcesContent":["/********************************\n     Encoding/Decoding Utils\n********************************/\n/*\nlet webCrypto :any = null\n\nexport async function getCrypto() {\n    if(!webCrypto) {\n        console.log(window?.crypto)\n        webCrypto = window?.crypto ?? (await import(\"crypto\")).webcrypto\n        console.log(webCrypto)\n    }\n    return webCrypto\n}\n*/\nexport function randomChallenge() {\n    return crypto.randomUUID();\n}\nexport function toBuffer(txt) {\n    return Uint8Array.from(txt, c => c.charCodeAt(0)).buffer;\n}\nexport function parseBuffer(buffer) {\n    return String.fromCharCode(...new Uint8Array(buffer));\n}\nexport function isBase64url(txt) {\n    return txt.match(/^[a-zA-Z0-9\\-_]+=*$/) !== null;\n}\nexport function toBase64url(buffer) {\n    const txt = btoa(parseBuffer(buffer)); // base64\n    return txt.replaceAll('+', '-').replaceAll('/', '_');\n}\nexport function parseBase64url(txt) {\n    txt = txt.replaceAll('-', '+').replaceAll('_', '/'); // base64url -> base64\n    return toBuffer(atob(txt));\n}\nexport async function sha256(buffer) {\n    return await crypto.subtle.digest('SHA-256', buffer);\n}\nexport function bufferToHex(buffer) {\n    return [...new Uint8Array(buffer)]\n        .map(b => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n}\nexport function concatenateBuffers(buffer1, buffer2) {\n    var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n    tmp.set(new Uint8Array(buffer1), 0);\n    tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n    return tmp;\n}\n;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,eAAeA,CAAA,EAAG;EAC9B,OAAOC,MAAM,CAACC,UAAU,CAAC,CAAC;AAC9B;AACA,OAAO,SAASC,QAAQA,CAACC,GAAG,EAAE;EAC1B,OAAOC,UAAU,CAACC,IAAI,CAACF,GAAG,EAAEG,CAAC,IAAIA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CAACC,MAAM;AAC5D;AACA,OAAO,SAASC,WAAWA,CAACD,MAAM,EAAE;EAChC,OAAOE,MAAM,CAACC,YAAY,CAAC,GAAG,IAAIP,UAAU,CAACI,MAAM,CAAC,CAAC;AACzD;AACA,OAAO,SAASI,WAAWA,CAACT,GAAG,EAAE;EAC7B,OAAOA,GAAG,CAACU,KAAK,CAAC,qBAAqB,CAAC,KAAK,IAAI;AACpD;AACA,OAAO,SAASC,WAAWA,CAACN,MAAM,EAAE;EAChC,MAAML,GAAG,GAAGY,IAAI,CAACN,WAAW,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC;EACvC,OAAOL,GAAG,CAACa,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;AACxD;AACA,OAAO,SAASC,cAAcA,CAACd,GAAG,EAAE;EAChCA,GAAG,GAAGA,GAAG,CAACa,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;EACrD,OAAOd,QAAQ,CAACgB,IAAI,CAACf,GAAG,CAAC,CAAC;AAC9B;AACA,OAAO,eAAegB,MAAMA,CAACX,MAAM,EAAE;EACjC,OAAO,MAAMR,MAAM,CAACoB,MAAM,CAACC,MAAM,CAAC,SAAS,EAAEb,MAAM,CAAC;AACxD;AACA,OAAO,SAASc,WAAWA,CAACd,MAAM,EAAE;EAChC,OAAO,CAAC,GAAG,IAAIJ,UAAU,CAACI,MAAM,CAAC,CAAC,CAC7Be,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CACzCC,IAAI,CAAC,EAAE,CAAC;AACjB;AACA,OAAO,SAASC,kBAAkBA,CAACC,OAAO,EAAEC,OAAO,EAAE;EACjD,IAAIC,GAAG,GAAG,IAAI3B,UAAU,CAACyB,OAAO,CAACG,UAAU,GAAGF,OAAO,CAACE,UAAU,CAAC;EACjED,GAAG,CAACE,GAAG,CAAC,IAAI7B,UAAU,CAACyB,OAAO,CAAC,EAAE,CAAC,CAAC;EACnCE,GAAG,CAACE,GAAG,CAAC,IAAI7B,UAAU,CAAC0B,OAAO,CAAC,EAAED,OAAO,CAACG,UAAU,CAAC;EACpD,OAAOD,GAAG;AACd;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}